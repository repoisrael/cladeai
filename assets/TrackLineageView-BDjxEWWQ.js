import{c as y,j as e,m as b}from"./index-CeBvdGEW.js";import{C as p}from"./card-wR_9LbL5.js";import{B as v}from"./badge-CG6PNnpc.js";import{s as _}from"./seedTracks-B6rAh97_.js";import{A as k}from"./CladeIcon-C0sGXCqx.js";import{A as j}from"./arrow-right-Dq6Bb7It.js";import{S as N}from"./sparkles-DNVEt6sE.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=y("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),f=[{ancestor_id:"historical-1",descendant_id:"additional-2",lineage_type:"structural_blueprint",confidence:.95,description:"Established recorded blues vocal form that Robert Johnson built upon",musical_element:"12-bar blues structure"},{ancestor_id:"additional-2",descendant_id:"additional-3",lineage_type:"harmonic_dna",confidence:.98,description:"Classic I-IV-V blues progression evolved into rock & roll template",musical_element:"I-IV-V 12-bar form"},{ancestor_id:"additional-3",descendant_id:"additional-17",lineage_type:"structural_blueprint",confidence:.85,description:"Blues-rock guitar riff formula passed down through generations",musical_element:"Pentatonic riff-based rock"},{ancestor_id:"historical-33",descendant_id:"historical-49",lineage_type:"break_source",confidence:.92,description:"Pioneering breakbeat became blueprint for hip-hop and jungle breaks",musical_element:"Amen break (6-second drum solo)"},{ancestor_id:"historical-40",descendant_id:"additional-7",lineage_type:"rhythmic_template",confidence:.96,description:"Clyde Stubblefield drum break became foundational hip-hop rhythm",musical_element:"Funky Drummer break"},{ancestor_id:"historical-40",descendant_id:"additional-9",lineage_type:"rhythmic_template",confidence:.94,description:"Funky Drummer break layered into dense political hip-hop production",musical_element:"Funky Drummer break (sampled)"},{ancestor_id:"historical-50",descendant_id:"additional-11",lineage_type:"break_source",confidence:.88,description:"Crisp snare break became G-funk rhythm foundation",musical_element:"Impeach break"},{ancestor_id:"historical-64",descendant_id:"additional-7",lineage_type:"bassline_evolution",confidence:.99,description:"Iconic disco bassline interpolated into hip-hop, spawning Rapper's Delight lineage",musical_element:"Good Times bassline (E-A-D pattern)"},{ancestor_id:"historical-54",descendant_id:"additional-11",lineage_type:"harmonic_dna",confidence:.97,description:"Slow funk groove interpolated as G-funk foundational track",musical_element:"Freaky To You progression"},{ancestor_id:"historical-5",descendant_id:"historical-4",lineage_type:"structural_blueprint",confidence:.88,description:"Armstrong's improvisational phrasing became swing band template",musical_element:"Solo-driven jazz structure"},{ancestor_id:"historical-4",descendant_id:"historical-20",lineage_type:"genre_foundation",confidence:.82,description:"Big band swing influenced bossa nova jazz fusion",musical_element:"Jazz orchestration"},{ancestor_id:"additional-6",descendant_id:"additional-14",lineage_type:"production_lineage",confidence:.94,description:"Pioneering synth production became French house blueprint",musical_element:"Analog synth bass + drum machine"},{ancestor_id:"additional-6",descendant_id:"additional-12",lineage_type:"production_lineage",confidence:.87,description:"Electronic sequencing influenced big beat production",musical_element:"Sequenced electronic patterns"},{ancestor_id:"additional-4",descendant_id:"additional-5",lineage_type:"modal_loop",confidence:.93,description:"Minimalist two-chord drone became proto-punk foundation",musical_element:"i-iv modal loop"},{ancestor_id:"additional-5",descendant_id:"additional-10",lineage_type:"structural_blueprint",confidence:.91,description:"Raw garage aesthetic evolved into grunge template",musical_element:"Quiet verse → loud chorus dynamics"},{ancestor_id:"additional-4",descendant_id:"additional-15",lineage_type:"structural_blueprint",confidence:.86,description:"Art rock experimentation passed through to progressive alternative",musical_element:"Multi-movement song structure"},{ancestor_id:"seed-1",descendant_id:"additional-18",lineage_type:"progression_spawn",confidence:.82,description:'Both use variants of the "pop anthem" progression with different feels',musical_element:"vi-IV-I-V / I-V-vi-IV variants"},{ancestor_id:"additional-5",descendant_id:"additional-16",lineage_type:"genre_foundation",confidence:.89,description:"Proto-punk minimalism revived in 2000s garage rock",musical_element:"Stripped-down garage aesthetic"},{ancestor_id:"additional-16",descendant_id:"additional-17",lineage_type:"structural_blueprint",confidence:.84,description:"Garage rock revival aesthetics at peak form",musical_element:"Minimalist two-piece rock"},{ancestor_id:"additional-7",descendant_id:"additional-9",lineage_type:"genre_foundation",confidence:.96,description:"First socially conscious rap evolved into militant political hip-hop",musical_element:"Social commentary lyrics + funk breaks"},{ancestor_id:"additional-8",descendant_id:"additional-9",lineage_type:"production_lineage",confidence:.87,description:"Rock guitar + hip-hop fusion production techniques",musical_element:"Live guitar integration"},{ancestor_id:"additional-13",descendant_id:"additional-19",lineage_type:"production_lineage",confidence:.79,description:"Dark electronic production influenced dance-punk textures",musical_element:"Downtempo electronic + live bass"},{ancestor_id:"seed-2",descendant_id:"seed-1",lineage_type:"harmonic_dna",confidence:.88,description:"Both use I-V-vi-IV (Axis of Awesome progression) in different contexts",musical_element:"I-V-vi-IV progression"},{ancestor_id:"additional-1",descendant_id:"additional-2",lineage_type:"structural_blueprint",confidence:.84,description:"Country folk structure influenced rural blues form",musical_element:"Verse-chorus folk structure"},{ancestor_id:"additional-16",descendant_id:"additional-20",lineage_type:"genre_foundation",confidence:.91,description:"Garage rock revival passed to internet-era indie rock",musical_element:"High-energy indie garage rock"},{ancestor_id:"additional-6",descendant_id:"additional-19",lineage_type:"production_lineage",confidence:.88,description:"Krautrock electronic sequencing evolved into dance-punk",musical_element:"Motorik beat + synth bass"}];function g(i){return f.filter(a=>a.ancestor_id===i)}function w(i){return f.filter(a=>a.descendant_id===i)}const I={harmonic_dna:"Shares chord progression",rhythmic_template:"Drum pattern evolved from",bassline_evolution:"Bassline descended from",structural_blueprint:"Song structure inherited from",modal_loop:"Modal pattern connection",break_source:"Drum break sampled from",progression_spawn:"Progression originated in",genre_foundation:"Genre established by",production_lineage:"Production technique from",call_response:"Call-response pattern from"};function P({trackId:i,className:a}){const d=w(i),n=g(i);return d.length===0&&n.length===0?null:e.jsxs("div",{className:a,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(h,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Musical DNA"})]}),e.jsxs("div",{className:"space-y-6",children:[d.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Evolved from"})}),e.jsx("div",{className:"space-y-2",children:d.map(t=>e.jsx(u,{connection:t,direction:"ancestor"},`ancestor-${t.ancestor_id}`))})]}),n.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Influenced"})}),e.jsx("div",{className:"space-y-2",children:n.map(t=>e.jsx(u,{connection:t,direction:"descendant"},`descendant-${t.descendant_id}`))})]})]})]})}function u({connection:i,direction:a}){const d=a==="ancestor"?i.ancestor_id:i.descendant_id,n=_.find(r=>r.id===d);if(!n)return null;const t=i.confidence>=.9?"text-green-600":i.confidence>=.8?"text-yellow-600":"text-orange-600";return e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:e.jsx(p,{className:"p-4 hover:bg-accent/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(j,{className:`w-4 h-4 text-muted-foreground ${a==="ancestor"?"rotate-180":""}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"font-medium text-sm truncate",children:n.title}),n.is_common_ancestor&&e.jsx(k,{className:"flex-shrink-0"})]}),n.historical_year&&e.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:n.historical_year})]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:n.artist}),e.jsx("p",{className:"text-sm text-foreground/80 mb-2",children:i.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(v,{variant:"outline",className:"text-xs",children:I[i.lineage_type]}),i.musical_element&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-primary",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:i.musical_element})]}),e.jsxs("span",{className:`text-xs font-medium ${t}`,children:[Math.round(i.confidence*100),"% match"]})]})]})]})})})}function G({startId:i,endId:a}){const n=((t,r)=>{const s=[{id:t,path:[]}],c=new Set([t]);for(;s.length>0;){const{id:l,path:m}=s.shift();if(l===r)return m;const x=g(l);for(const o of x)c.has(o.descendant_id)||(c.add(o.descendant_id),s.push({id:o.descendant_id,path:[...m,o]}))}return[]})(i,a);return n.length===0?null:e.jsxs(p,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(h,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Evolution Chain"})]}),e.jsx("div",{className:"space-y-3",children:n.map((t,r)=>{const s=_.find(c=>c.id===t.ancestor_id);return s?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground w-12 flex-shrink-0",children:s.historical_year||"—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:s.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.artist}),e.jsxs("div",{className:"text-xs text-primary mt-1",children:["→ ",t.musical_element]})]})]},`path-${r}`):null})})]})}export{G as L,P as T};
